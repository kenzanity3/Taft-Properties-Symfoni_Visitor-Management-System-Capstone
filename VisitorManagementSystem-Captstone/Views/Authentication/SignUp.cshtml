@model VisitorManagementSystem_Captstone.ViewModels.RegisterViewModel
@{
    Layout = null;
}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>Symfoni Nichols Registration</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <link rel="stylesheet" href="~/css/RegisterIndex.css" />
</head>
<body>
    <div class="container">
        <form asp-action="SignUp" method="post" enctype="multipart/form-data" class="register-container">
            <div class="left-col">
                <img src="/images/symfoni-nicols-logo.png" alt="Symfoni Logo" />
                <h3>Symfoni Nichols Condominium</h3>
            </div>

            @foreach (var modelError in ViewData.ModelState.Values.SelectMany(v => v.Errors))
            {
                <div class="text-danger">@modelError.ErrorMessage</div>
            }

            <div class="right-col">
                <h2>Registration</h2>

                <!-- Profile Picture -->
                <div class="profile mb-3">
                    <label asp-for="User.ProfilePicture" class="form-label">Profile Picture</label>
                    <input asp-for="User.ProfilePicture" type="file" class="form-control" accept="image/*" onchange="previewImage(event)" />
                    <img id="profilePreview" src="/images/default.png" alt="Profile Preview" style="display:block; margin-top:10px; max-width:120px; max-height:120px; border-radius:6px;" />
                </div>

                <!-- Personal Info -->
                <label class="form-label mt-3">Personal Information</label>
                <input asp-for="User.FirstName" class="form-control" placeholder="First Name" />
                <span asp-validation-for="User.FirstName" class="text-danger"></span>

                <input asp-for="User.MiddleName" class="form-control" placeholder="Middle Name" />
                <span asp-validation-for="User.MiddleName" class="text-danger"></span>

                <input asp-for="User.LastName" class="form-control" placeholder="Last Name" />
                <span asp-validation-for="User.LastName" class="text-danger"></span>

                <label asp-for="User.DateOfBirth" class="form-label">Birthdate</label>
                <input asp-for="User.DateOfBirth" type="date" class="form-control" />

                <span asp-validation-for="User.DateOfBirth" class="text-danger"></span>
                <label class="form-label mt-3">Visitor Details</label>
                <label asp-for="Visitor.IDType" class="form-label">ID Type</label>
                <select asp-for="Visitor.IDType" class="form-control">
                    <option value="">-- Select ID Type --</option>
                    <option>Driver’s License</option>
                    <option>National ID (PhilSys)</option>
                    <option>UMID</option>
                    <option>SSS ID</option>
                    <option>GSIS ID</option>
                    <option>TIN ID</option>
                    <option>Postal ID</option>
                    <option>PhilHealth ID</option>
                    <option>Company ID</option>
                    <option>School ID</option>
                    <option>Barangay ID</option>
                    <option>PWD ID</option>
                    <option>Senior Citizen ID</option>
                </select>
                <span asp-validation-for="Visitor.IDType" class="text-danger"></span>

                <input asp-for="Visitor.IdNumber" class="form-control" placeholder="ID Number" />
                <span asp-validation-for="Visitor.IdNumber" class="text-danger"></span>

                <!-- Contact -->
                <label class="form-label mt-3">Contact Details</label>
                <input asp-for="User.Email" class="form-control" placeholder="Email" />
                <span asp-validation-for="User.Email" class="text-danger"></span>

                <input asp-for="user_ContactNumber.ContactNumber" class="form-control" placeholder="Contact No. (09XXXXXXXXX)" />
                <span asp-validation-for="user_ContactNumber.ContactNumber" class="text-danger"></span>

                <!-- Address -->
                <label class="form-label mt-3">Address</label>
                <input asp-for="User.StreetAddress" class="form-control" placeholder="Street Address" />
                <span asp-validation-for="User.StreetAddress" class="text-danger"></span>

                <input asp-for="User.City" class="form-control mt-2" placeholder="City" />
                <span asp-validation-for="User.City" class="text-danger"></span>

                <input asp-for="User.Country" class="form-control mt-2" placeholder="Country" />
                <span asp-validation-for="User.Country" class="text-danger"></span>

                <!-- Credentials -->
                <label class="form-label mt-3">Account Credentials</label>
                <input asp-for="User.Username" class="form-control" placeholder="Username" />
                <span asp-validation-for="User.Username" class="text-danger"></span>

                <input asp-for="User.Password" class="form-control" placeholder="Password" type="password" />
                <span asp-validation-for="User.Password" class="text-danger"></span>

                <input name="ConfirmPassword" class="form-control" placeholder="Confirm Password" type="password" />
                <!-- Visitor Type -->
                <label asp-for="Visitor.VisitorType" class="form-label">Visitor Type</label>
                <select asp-for="Visitor.VisitorType" class="form-control">
                    <option value="">-- Select Visitor Type --</option>
                    <option>Guest</option>
                    <option>Delivery</option>
                    <option>Service</option>
                </select>
                <span asp-validation-for="Visitor.VisitorType" class="text-danger"></span>

                <!-- Submit -->
                <button type="submit" class="btn btn-primary w-100 mt-3">
                    <i class="fas fa-user-plus me-2"></i> Sign Up
                </button>

                <div class="text-center mt-3 text-small">
                    Already have an account?
                    <a asp-action="Login">Sign In?</a>
                </div>
            </div>
        </form>
    </div>

    <script>
        function previewImage(event) {
            const input = event.target;
            const preview = document.getElementById("profilePreview");
            if (input.files && input.files[0]) {
                const reader = new FileReader();
                reader.onload = function (e) {
                    preview.src = e.target.result;
                };
                reader.readAsDataURL(input.files[0]);
            }
        }
    </script>

    <script src="https://cdn.jsdelivr.net/npm/jquery-validation@1.19.5/dist/jquery.validate.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jquery-validation-unobtrusive@4.0.0/dist/jquery.validate.unobtrusive.min.js"></script>
</body>
</html>
